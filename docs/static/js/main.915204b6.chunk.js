(this["webpackJsonpchallange-react-app"]=this["webpackJsonpchallange-react-app"]||[]).push([[0],{86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(23),s=a.n(n),i=a(4),o=a(13),l=a(2),d=a(14),u=a.n(d),b=a(18),j=a(24),h=a.n(j),m=a(10),p=a.n(m),O="[Auth] Login",x="[Auth] Logout",g="[Auth] cheking start",f="[Auth] checking finish",v="[hero] team hero",w="[hero] current hero",N="[hero] remove heroes",y="[hero] delete hero",k="[hero] height sum",A="[hero] height res",C="[hero] weight sum",S="[hero] weight res",E=function(){return function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("token")?t({type:g}):t({type:f});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(){return{type:x}},_=a(1),B=function(){var e=Object(i.c)((function(e){return e.hero})).current,t=Object(l.h)().heroId,a=e.filter((function(e){return e.id===t}))[0],r=function(e){return 0==e.slice(0,2)?"-":e};return Object(_.jsx)("div",{className:" row justify-content-center mt-4 mb-4",children:Object(_.jsxs)("div",{className:"card ",style:{width:"28rem"},children:[Object(_.jsx)("div",{className:"container mt-4 mb-4",children:Object(_.jsx)("img",{src:a.image.url,className:" mx-auto d-block",width:"200",height:"auto",alt:a.name})}),Object(_.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(_.jsxs)("li",{className:"list-group-item",children:[Object(_.jsx)("b",{children:"Peso:"}),"  ",r(a.appearance.weight[1])]}),Object(_.jsxs)("li",{className:"list-group-item",children:[Object(_.jsx)("b",{children:"Altura:"})," ",r(a.appearance.height[1])]}),Object(_.jsxs)("li",{className:"list-group-item",children:[Object(_.jsx)("b",{children:"Nombre:"})," ",a.name]}),Object(_.jsxs)("li",{className:"list-group-item",children:[Object(_.jsx)("b",{children:"Alias:"})," ",a.biography.aliases.map((function(e){return Object(_.jsxs)("span",{children:[e," - "]},e)}))]}),Object(_.jsxs)("li",{className:"list-group-item",children:[Object(_.jsx)("b",{children:"Color de ojos:"})," ",a.appearance["eye-color"]]}),Object(_.jsxs)("li",{className:"list-group-item",children:[Object(_.jsx)("b",{children:"Color de cabello:"})," ",a.appearance["hair-color"]]}),Object(_.jsxs)("li",{className:"list-group-item",children:[Object(_.jsx)("b",{children:"Lugar de trabajo:"})," ",a.work.base]})]}),Object(_.jsx)("div",{className:"card-body mx-auto d-block",children:Object(_.jsx)(o.b,{className:"",to:"./home}",children:"Regresar"})})]})})},P=a(11),q=function(e){return"null"===e.powerstats.intelligence&&(e.powerstats.intelligence=0),"null"===e.powerstats.strength&&(e.powerstats.strength=0),"null"===e.powerstats.speed&&(e.powerstats.speed=0),"null"===e.powerstats.durability&&(e.powerstats.durability=0),"null"===e.powerstats.power&&(e.powerstats.power=0),"null"===e.powerstats.combat&&(e.powerstats.combat=0),e},D=a(3),F=(a(86),function(e){var t=Object(i.c)((function(e){return e.hero})).team,a=Object.values(e.powerstats),r=Object.keys(e.powerstats),c=Object(i.b)(),n=t.map((function(t){return t.id===e.id}));return Object(_.jsx)("div",{children:Object(_.jsx)("div",{className:"maincontainer mb-4 ",children:Object(_.jsxs)("div",{className:n.includes(!0)?"thecard":"",children:[Object(_.jsxs)("div",{className:"thefront ",children:[Object(_.jsx)("h1",{children:e.name}),Object(_.jsx)("div",{className:"container text-center ",children:Object(_.jsx)("img",{className:"img-fluid  ",src:e.image.url,alt:"hero.name",width:n.includes(!0)?"180":"150",height:"auto"})}),Object(_.jsx)("div",{className:n.includes(!0)?"d-none":"d-grid  mx-auto mt-3",children:Object(_.jsx)("button",{type:"button",className:"btn  btn-primary ",onClick:function(a){a.preventDefault(),c(function(e,t){return function(a){var r=t.filter((function(e){return"good"===e.biography.alignment})),c=t.filter((function(e){return"bad"===e.biography.alignment}));t.length<=5?"good"===e.biography.alignment?r.length<=2?(q(e),p.a.fire("Agregado al equipo!","","success"),a({type:v,payload:e})):p.a.fire("cantidad de buenos en equipo completo"):c.length<=2?(q(e),p.a.fire("Agregado al equipo!","","success"),a({type:v,payload:e})):p.a.fire("cantidad de malos en equipo completo"):p.a.fire("Equipo completo")}}(e,t)),c(function(e){return function(t){var a=Number(e.appearance.height[1].slice(0,3));Number(a)&&t({type:k,payload:a})}}(e)),c(function(e){return function(t){var a=Number(e.appearance.weight[0].slice(0,3));Number(a)&&t({type:C,payload:a})}}(e))},children:"Agregar"})}),Object(_.jsx)("div",{className:n.includes(!0)?"d-none":"d-grid mx-auto ",children:Object(_.jsx)(o.b,{className:"badge badge-info",to:"./home/".concat(e.id),children:"Mas info..."})})]}),Object(_.jsxs)("div",{className:n.includes(!0)?"theback":"d-none",children:[Object(_.jsx)("h4",{children:e.name}),Object(_.jsx)("p",{children:e.biography.alignment}),Object(_.jsx)("div",{className:"container mb-4   ",children:Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("dt",{children:"Powerstats"}),r.map((function(e,t){return Object(_.jsxs)("li",{children:[e,": ",0===a[t]?"null":a[t]]},t)}))]})}),Object(_.jsxs)("div",{className:"container display-flex",children:[Object(_.jsx)("button",{type:"button",className:"btn btn-outline-success ",onClick:function(t){t.preventDefault(),c(function(e){return function(t){q(e),t({type:y,payload:e})}}(e)),c(function(e){return function(t){var a=Number(e.appearance.height[1].slice(0,3));Number(a)&&t({type:A,payload:a})}}(e))},children:"Delete"}),Object(_.jsx)(o.b,{className:"badge badge-info",to:"./home/".concat(e.id),children:"Mas info..."})]})]})]})})})}),L=function(){var e=Object(i.c)((function(e){return e.hero})).current;return Object(_.jsxs)("div",{children:[Object(_.jsx)("hr",{}),Object(_.jsxs)("div",{className:"divider",children:[Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"row row-cols-1 row-cols-md-3 ",children:!!e&&e.map((function(e){return Object(_.jsx)(F,Object(D.a)({},e),e.id)}))})]}),Object(_.jsx)("hr",{className:"mt-10 mb-3"})]})},z=function(){var e=Object(i.b)();return Object(_.jsx)("div",{children:Object(_.jsx)("nav",{className:"navbar fixed-top navbar-expand-lg navbar-dark bg-dark bg-gradient  ",children:Object(_.jsx)("div",{className:"container  ",children:Object(_.jsx)("ul",{className:"navbar-nav ms-auto ",children:Object(_.jsxs)("button",{className:"btn btn-danger me-md-2",onClick:function(){e((function(e){localStorage.clear(),e(I())})),e((function(e){e({type:N})}))},children:[Object(_.jsx)("i",{className:"fas fa-sign-out-alt",children:" "}),Object(_.jsx)("span",{children:"  Salir"})]})})})})})},M=function(){for(var e=Object(i.c)((function(e){return e.hero})).powerstats,t=Object.values(e),a=Object.keys(e),r=[],c={name:"",value:" "},n=0;n<a.length;n++)c={name:a[n],value:t[n]},r.push(c);var s=r.sort((function(e,t){return t.value-e.value}));return Object(_.jsx)("div",{className:"container border pb-4",children:Object(_.jsxs)("div",{className:"card text-center mt-4 ms-2 me-2 bg-dark text-white",children:[Object(_.jsx)("div",{className:"card-header",children:Object(_.jsx)("h3",{children:"Poderes acumulados"})}),Object(_.jsx)("div",{className:"card-body",children:s.map((function(e,t){return Object(_.jsxs)("li",{children:[e.name,": ",e.value]},t)}))})]})})},Z=function(){var e=Object(i.c)((function(e){return e.hero})),t=e.height,a=e.weight,r=e.team,c=r.filter((function(e){if(Number(e.appearance.height[1].slice(0,3)))return e})),n=r.filter((function(e){if(Number(e.appearance.weight[0].slice(0,3)))return e})),s=t/c.length,o=a/n.length;return Object(_.jsx)("div",{className:"container border pb-4",children:Object(_.jsxs)("div",{className:"card text-center mt-4 ms-2 me-2 bg-dark text-white",children:[Object(_.jsxs)("div",{className:"card-body",children:["Altura promedio:  ",s.toFixed(2),Object(_.jsx)("br",{}),"Peso promedio:  ",o.toFixed(2)]}),Object(_.jsx)("div",{className:"card-footer text-muted",children:"altura y peso"})]})})},V=function(){var e=Object(i.c)((function(e){return e.hero})).team;return Object(_.jsx)("div",{children:0!==e.length&&Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"container border pb-4",children:Object(_.jsxs)("div",{className:"divider",children:[Object(_.jsx)("h1",{className:"text-center mt-4 mb-4 text-white",children:"EQUIPO"}),Object(_.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4 ",children:e?e.map((function(e){return Object(_.jsx)(F,Object(D.a)({},e),e.id)})):Object(_.jsx)("h1",{children:"No hay resultados"})})]})}),Object(_.jsx)("div",{children:Object(_.jsx)(M,{})}),Object(_.jsx)("div",{children:Object(_.jsx)(Z,{})})]})})},J=function(){var e=Object(i.b)();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"top-header py-4 mt-4",children:Object(_.jsx)("div",{className:"container text-center text-white",children:Object(_.jsx)("h1",{children:"Challenge react"})})}),Object(_.jsx)(z,{}),Object(_.jsx)(V,{}),Object(_.jsx)(P.c,{initialValues:{name:""},validate:function(e){var t={};return e.name?/^[a-zA-Z\xc0-\xff\s]{1,40}$/.test(e.name)||(t.name="El nombre debe poseer solo caracteres v\xe1lidos"):t.name="campo vac\xedo",t},onSubmit:function(t,a){(0,a.resetForm)(),e(function(e){var t=e.name;return function(){var e=Object(b.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://superheroapi.com/api/10222829918315897/search/".concat(t)).then((function(e){a({type:w,payload:e.data.results})})).catch((function(e){p.a.fire("error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))},children:function(e){var t=e.values,a=e.errors,r=e.handleSubmit,c=e.handleChange,n=e.handleBlur;return Object(_.jsx)(P.b,{onSubmit:r,children:Object(_.jsx)("nav",{className:"navbar d-flex justify-content-center  navbar-expand-md mt-4 navbar-dark bg-dark ",children:Object(_.jsxs)("div",{className:"m-2 ",children:[Object(_.jsxs)("div",{className:"  d-flex justify-content-center",children:[Object(_.jsx)(P.a,{className:"form-control me-2",type:"text",placeholder:"Ingresar heroe...",name:"name",value:t.name,onChange:c,onBlur:n}),Object(_.jsx)("button",{className:"btn btn-outline-success",type:"submit",value:"Buscar",children:"Buscar"})]}),a.name&&Object(_.jsx)("p",{className:"error ",children:a.name})]})})})}}),Object(_.jsx)(L,{})]})},R=(a(87),function(){var e=Object(i.b)();return Object(_.jsxs)("div",{className:"center",children:[Object(_.jsx)("h1",{children:"Login"}),Object(_.jsx)(P.c,{initialValues:{email:"challenge@alkemy.org",password:""},validate:function(e){var t={};return e.email?/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e.email)||(t.email="El correo de poseer caracteres v\xe1lidos"):t.email="Ingresar correo",e.password||(t.password="Ingresar contrase\xf1a"),t},onSubmit:function(t,a){(0,a.resetForm)(),e(function(e){var t=e.email,a=e.password;return function(){var e=Object(b.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("http://challenge-react.alkemy.org/",{email:t,password:a}).then((function(e){localStorage.setItem("token",e.data.token),r({type:O}),r(E())})).catch((function(e){p.a.fire("Contrase\xf1a o Password incorrectos","error")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))},children:function(e){var t=e.values,a=e.errors,r=e.touched,c=e.handleSubmit,n=e.handleChange,s=e.handleBlur;return Object(_.jsxs)(P.b,{onSubmit:c,children:[Object(_.jsxs)("div",{className:"txt_field",children:[Object(_.jsx)(P.a,{type:"text",name:"email",autoComplete:"off",value:t.email,onChange:n,onBlur:s}),Object(_.jsx)("span",{}),Object(_.jsx)("label",{children:"Email"}),r.email&&a.email&&Object(_.jsx)("p",{className:"error",children:a.email})]}),Object(_.jsxs)("div",{className:"txt_field",children:[Object(_.jsx)(P.a,{type:"password",name:"password",autoComplete:"off",value:t.password,onChange:n,onBlur:s}),Object(_.jsx)("span",{}),Object(_.jsx)("label",{children:"Password"}),r.password&&a.password&&Object(_.jsx)("p",{className:" error",children:a.password})]}),Object(_.jsx)("input",{type:"submit",value:"Enviar"})]})}})]})}),T=function(e){var t=e.isAuthenticated,a=e.element;return t?a:Object(_.jsx)(l.a,{to:"/login"})},U=function(e){var t=e.isAuthenticated,a=e.element;return t?Object(_.jsx)(l.a,{to:"/home"}):a},X=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})).checking;return Object(r.useEffect)((function(){e(E())}),[e]),Object(_.jsx)(o.a,{children:Object(_.jsxs)(l.d,{children:[Object(_.jsx)(l.b,{path:"/*",element:Object(_.jsx)(T,{isAuthenticated:!!t,element:Object(_.jsx)(J,{})})}),Object(_.jsx)(l.b,{path:"/login",element:Object(_.jsx)(U,{isAuthenticated:!!t,element:Object(_.jsx)(R,{})})}),Object(_.jsx)(l.b,{path:"/home/:heroId",element:Object(_.jsx)(T,{isAuthenticated:!!t,element:Object(_.jsx)(B,{})})})]})})},$=a(20),Q={active:!1,checking:!1},G=a(43),H=a(44),K={team:[],current:[],powerstats:{intelligence:0,strength:0,speed:0,durability:0,power:0,combat:0},height:0,weight:0},W="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$.c,Y=Object($.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{initialState:Q},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(D.a)(Object(D.a)({},e),{},{active:!0});case x:return Object(D.a)({},Q);case g:return Object(D.a)(Object(D.a)({},e),{},{checking:!0});case f:return Object(D.a)(Object(D.a)({},e),{},{checking:!1});default:return e}},hero:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(D.a)(Object(D.a)({},e),{},{team:[].concat(Object(H.a)(e.team),[t.payload]),powerstats:{intelligence:e.powerstats.intelligence+Number(t.payload.powerstats.intelligence),strength:e.powerstats.strength+Number(t.payload.powerstats.strength),speed:e.powerstats.speed+Number(t.payload.powerstats.speed),durability:e.powerstats.durability+Number(t.payload.powerstats.durability),power:e.powerstats.power+Number(t.payload.powerstats.power),combat:e.powerstats.combat+Number(t.payload.powerstats.combat)}});case k:return Object(D.a)(Object(D.a)({},e),{},{height:e.height+t.payload});case A:return Object(D.a)(Object(D.a)({},e),{},{height:e.height-t.payload});case C:return Object(D.a)(Object(D.a)({},e),{},{weight:e.weight+t.payload});case S:return Object(D.a)(Object(D.a)({},e),{},{weight:e.weight-t.payload});case w:return Object(D.a)(Object(D.a)({},e),{},{current:t.payload});case N:return Object(D.a)({},K);case y:return Object(D.a)(Object(D.a)({},e),{},{team:e.team.filter((function(e){return e.id!==t.payload.id})),powerstats:{intelligence:e.powerstats.intelligence-Number(t.payload.powerstats.intelligence),strength:e.powerstats.strength-Number(t.payload.powerstats.strength),speed:e.powerstats.speed-Number(t.payload.powerstats.speed),durability:e.powerstats.durability-Number(t.payload.powerstats.durability),power:e.powerstats.power-Number(t.payload.powerstats.power),combat:e.powerstats.combat-Number(t.payload.powerstats.combat)}});default:return e}}}),ee=Object($.d)(Y,W(Object($.a)(G.a)));var te=function(){return Object(_.jsx)(i.a,{store:ee,children:Object(_.jsx)(X,{})})};s.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(te,{})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.915204b6.chunk.js.map